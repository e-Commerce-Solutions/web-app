var p=Object.defineProperty;var h=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var m=(s,e,o)=>e in s?p(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,u=(s,e)=>{for(var o in e||(e={}))v.call(e,o)&&m(s,o,e[o]);if(h)for(var o of h(e))g.call(e,o)&&m(s,o,e[o]);return s};import{O as b}from"./bootstrap.esm.25e60e88.js";import{j as y,o as i,c as n,a as t,t as P,q as x,s as f,v as _,e as c}from"./vendor.91338f32.js";import{_ as I}from"./index.c387ddce.js";const k={props:{id:String},mounted(){this.id==="add"?this.draft().then(s=>{this.name=s.name,this.desc=s.desc,this.image=s.image,this._offcanvas=new b(this.$refs.ProductItem),this._offcanvas.show(),this.$refs.ProductItem.addEventListener("hidden.bs.offcanvas",this.close)}).catch(console.error):this.get(Number(this.id)).then(s=>{this.name=s.name,this.desc=s.desc,this.image=s.image,this._offcanvas=new b(this.$refs.ProductItem),this._offcanvas.show(),this.$refs.ProductItem.addEventListener("hidden.bs.offcanvas",this.close)}).catch(console.error)},data(){return{_offcanvas:null,disabled:!1,isSaving:!1,isDeleting:!1,name:"",desc:"",image:null}},methods:u({close(){this.$router.replace({name:"products"})},submit(){this.disabled=!0,this.isSaving=!0;const{id:s,name:e,desc:o,image:l}=this;this.save({id:Number(s),name:e,desc:o,image:l}).then(()=>{this.disabled=!1,this.isSaving=!1,this._offcanvas.hide()}).catch(console.error)},remove(){this.disabled=!0,this.isDeleting=!0;const{id:s}=this;this.delete(Number(s)).then(()=>{this.disabled=!1,this.isDeleting=!1,this._offcanvas.hide()}).catch(console.error)}},y("Products",{draft:"draft",get:"get",save:"save",delete:"delete"}))},D={class:"offcanvas offcanvas-end",tabindex:"-1",ref:"ProductItem","aria-labelledby":"ProductItemLabel"},S={class:"offcanvas-header"},w={class:"offcanvas-title",id:"ProductItemLabel"},N=t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),j={class:"offcanvas-body"},E=["disabled"],L={class:"mb-3"},V=t("label",{for:"productName",class:"form-label"},"Product Name",-1),A={class:"mb-3"},B=t("label",{for:"productDescription",class:"form-label"},"Description",-1),C=t("div",{class:"mb-3"},[t("label",{for:"productImage",class:"form-label"},"Image"),t("input",{class:"form-control",type:"file",id:"productImage"})],-1),M=t("hr",null,null,-1),O={key:0,class:"mb-3 text-end"},T={key:0,type:"submit",class:"btn btn-primary"},U=t("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),q=c(" Saving... "),W=[U,q],z={key:1,type:"submit",class:"btn btn-primary"},F={key:1,class:"mb-3 d-flex justify-content-between"},G={key:0,type:"button",class:"btn btn btn-outline-danger"},H=t("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),J=c(" Deleting... "),K=[H,J],Q=t("i",{class:"bi-trash"},null,-1),R=c(" Delete"),X=[Q,R],Y={key:2,type:"submit",class:"btn btn-primary"},Z=t("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),$=c(" Saving... "),ee=[Z,$],se={key:3,type:"submit",class:"btn btn-primary"};function te(s,e,o,l,a,r){return i(),n("div",D,[t("div",S,[t("h5",w,P(o.id==="add"?"Add":"Edit")+" Product Item",1),N]),t("div",j,[t("form",{onSubmit:e[3]||(e[3]=x((...d)=>r.submit&&r.submit(...d),["prevent"]))},[t("fieldset",{disabled:a.disabled},[t("div",L,[V,f(t("input",{type:"text",class:"form-control",id:"productName",placeholder:"What is the name of the product?","onUpdate:modelValue":e[0]||(e[0]=d=>a.name=d)},null,512),[[_,a.name]])]),t("div",A,[B,f(t("textarea",{class:"form-control",id:"productDescription",rows:"5",placeholder:"Please describe your product ...","onUpdate:modelValue":e[1]||(e[1]=d=>a.desc=d)},null,512),[[_,a.desc]])]),C,M,o.id==="add"?(i(),n("div",O,[a.isSaving?(i(),n("button",T,W)):(i(),n("button",z,"Add Product"))])):(i(),n("div",F,[a.isDeleting?(i(),n("button",G,K)):(i(),n("button",{key:1,type:"button",class:"btn btn btn-outline-danger",onClick:e[2]||(e[2]=(...d)=>r.remove&&r.remove(...d))},X)),a.isSaving?(i(),n("button",Y,ee)):(i(),n("button",se,"Save Changes"))]))],8,E)],32)])],512)}var de=I(k,[["render",te]]);export{de as default};
